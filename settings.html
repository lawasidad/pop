<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Dashboard Full Working Example with Login</title>
<style>
  body {
    font-family: Arial, sans-serif;
    margin: 0; padding: 0;
    height: 100vh;
    background: #f5f5f5;
  }
  /* Login form styles */
  #loginForm {
    max-width: 350px;
    margin: 80px auto;
    padding: 30px;
    background: white;
    box-shadow: 0 0 10px #ccc;
    border-radius: 8px;
  }
  #loginForm h2 {
    margin-bottom: 20px;
    text-align: center;
  }
  #loginForm input {
    width: 100%;
    padding: 10px 12px;
    margin-bottom: 15px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 15px;
  }
  #loginForm button {
    width: 100%;
    padding: 12px;
    background: #2980b9;
    border: none;
    color: white;
    font-size: 16px;
    border-radius: 4px;
    cursor: pointer;
  }
  #loginForm button:hover {
    background: #3498db;
  }
  /* Dashboard styles */
  #dashboard {
    display: none;
    height: 100vh;
    display: flex;
  }
  .sidebar {
    width: 220px;
    background: #2c3e50;
    color: white;
    display: flex;
    flex-direction: column;
  }
  .sidebar h2 {
    padding: 20px;
    margin: 0;
    border-bottom: 1px solid #34495e;
    text-align: center;
  }
  .sidebar button {
    padding: 15px 20px;
    background: none;
    border: none;
    color: white;
    cursor: pointer;
    border-bottom: 1px solid #34495e;
    font-size: 16px;
    text-align: left;
  }
  .sidebar button:hover,
  .sidebar button.active {
    background: #34495e;
  }
  .main-content {
    flex: 1;
    padding: 25px;
    background: white;
    overflow-y: auto;
  }
  section {
    display: none;
  }
  section.active {
    display: block;
  }
  h1 {
    margin-top: 0;
    margin-bottom: 20px;
  }
  form {
    max-width: 600px;
    margin-bottom: 30px;
  }
  label {
    display: block;
    margin-bottom: 5px;
    font-weight: bold;
  }
  input, select {
    width: 100%;
    padding: 8px 10px;
    margin-bottom: 15px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
  }
  button.submit-btn {
    background: #2980b9;
    color: white;
    border: none;
    padding: 10px 20px;
    font-size: 15px;
    cursor: pointer;
    border-radius: 4px;
  }
  button.submit-btn:hover {
    background: #3498db;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 15px;
  }
  th, td {
    text-align: left;
    padding: 10px;
    border-bottom: 1px solid #ddd;
  }
  th {
    background: #f7f7f7;
  }
  tr:hover {
    background: #f1f1f1;
  }
  #logoPreview {
    max-width: 150px;
    max-height: 80px;
    margin-top: 10px;
    display: none;
    border: 1px solid #ccc;
    border-radius: 4px;
  }
  .date-filter {
    display: flex;
    gap: 10px;
    margin-bottom: 20px;
    align-items: center;
    max-width: 420px;
  }
  .date-filter label {
    font-weight: normal;
    color: #555;
    flex-shrink: 0;
  }
  #filterInput {
    max-width: 300px;
    margin-bottom: 15px;
    padding: 8px 10px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 14px;
  }
  /* Logout button */
  #logoutBtn {
    margin-top: auto;
    padding: 15px 20px;
    background: #c0392b;
    border: none;
    color: white;
    cursor: pointer;
    font-size: 16px;
    text-align: center;
  }
  #logoutBtn:hover {
    background: #e74c3c;
  }
</style>
</head>
<body>

<!-- Login Form -->
<div id="loginForm">
  <h2>Login</h2>
  <form id="loginFormInner">
    <label for="loginName">Name</label>
    <input type="text" id="loginName" required />
    <label for="loginPassword">Password</label>
    <input type="password" id="loginPassword" required />
    <button type="submit">Login</button>
  </form>
  <p style="text-align:center; margin-top: 15px;">Don't have an account? <button id="showRegisterBtn" style="background:none; border:none; color:#2980b9; cursor:pointer; padding:0;">Register here</button></p>
</div>

<!-- Register Form -->
<div id="registerForm" style="display:none; max-width: 350px; margin: 80px auto; padding: 30px; background: white; box-shadow: 0 0 10px #ccc; border-radius: 8px;">
  <h2>Register User</h2>
  <form id="registerFormInner">
    <label for="regName">Name</label>
    <input type="text" id="regName" required />
    <label for="regPassword">Password</label>
    <input type="password" id="regPassword" required />
    <label for="regRole">Role</label>
    <select id="regRole" required>
      <option value="">Select role</option>
      <option>Admin</option>
      <option>Manager</option>
      <option>Sales</option>
    </select>
    <label for="regMobile">Mobile Number</label>
    <input type="tel" id="regMobile" pattern="[0-9]{10,15}" placeholder="e.g. 1234567890" required />
    <button type="submit">Register</button>
  </form>
  <p style="text-align:center; margin-top: 15px;">Already have an account? <button id="showLoginBtn" style="background:none; border:none; color:#2980b9; cursor:pointer; padding:0;">Login here</button></p>
</div>

<!-- Dashboard -->
<div id="dashboard">
  <div class="sidebar">
    <h2>Dashboard</h2>
    <button data-target="usersSection" class="active">Users</button>
    <button data-target="companySection">Company</button>
    <button data-target="salesSection">Sales Report</button>
    <button id="logoutBtn">Logout</button>
  </div>

  <div class="main-content">
    <section id="usersSection" class="active">
      <h1>Users</h1>
      <form id="userForm">
        <label for="userName">Name</label>
        <input type="text" id="userName" required />
        <label for="userPassword">Password</label>
        <input type="password" id="userPassword" required />
        <label for="userRole">Role</label>
        <select id="userRole" required>
          <option value="">Select role</option>
          <option>Admin</option>
          <option>Manager</option>
          <option>Sales</option>
        </select>
        <label for="userMobile">Mobile Number</label>
        <input type="tel" id="userMobile" pattern="[0-9]{10,15}" placeholder="e.g. 1234567890" required />
        <button type="submit" class="submit-btn">Add User</button>
      </form>

      <h2>User List</h2>
      <table id="userListTable">
        <thead>
          <tr><th>Name</th><th>Role</th><th>Mobile Number</th></tr>
        </thead>
        <tbody></tbody>
      </table>
    </section>

    <section id="companySection">
      <h1>Company</h1>
      <form id="companyForm">
        <label for="companyName">Company Name</label>
        <input type="text" id="companyName" required />
        <label for="companyAddress">Address</label>
        <input type="text" id="companyAddress" required />
        <label for="companyLogo">Logo</label>
        <input type="file" id="companyLogo" accept="image/*" />
        <img id="logoPreview" alt="Logo Preview" />
        <button type="submit" class="submit-btn">Save Company Info</button>
      </form>
    </section>

    <section id="salesSection">
      <h1>Sales Report</h1>

      <label for="filterInput">Filter Items:</label>
      <input type="text" id="filterInput" placeholder="Type to filter items..." />

      <h2>Sales by Item</h2>
      <table id="salesByItemTable">
        <thead>
          <tr><th>Item</th><th>Quantity Sold</th><th>Total Sales</th></tr>
        </thead>
        <tbody>
          <tr><td>Example Item 1</td><td>10</td><td>$100</td></tr>
          <tr><td>Example Item 2</td><td>5</td><td>$50</td></tr>
          <tr><td>Sample Product</td><td>7</td><td>$70</td></tr>
          <tr><td>Test Item</td><td>3</td><td>$30</td></tr>
        </tbody>
      </table>

      <h2>Sales by Invoice</h2>
      <div class="date-filter">
        <label for="fromDate">From:</label>
        <input type="date" id="fromDate" />
        <label for="toDate">To:</label>
        <input type="date" id="toDate" />
      </div>

      <table id="salesByInvoiceTable">
        <thead>
          <tr><th>Invoice Number</th><th>Date</th><th>Amount</th></tr>
        </thead>
        <tbody>
          <tr><td>INV001</td><td>2025-06-01</td><td>$150</td></tr>
          <tr><td>INV002</td><td>2025-06-02</td><td>$100</td></tr>
          <tr><td>INV003</td><td>2025-06-05</td><td>$200</td></tr>
          <tr><td>INV004</td><td>2025-06-10</td><td>$175</td></tr>
        </tbody>
      </table>

      <h2>Sales by Amount</h2>
      <table id="salesByAmountTable">
        <thead>
          <tr><th>Customer</th><th>Total Amount</th></tr>
        </thead>
        <tbody>
          <tr><td>Customer A</td><td>$250</td></tr>
          <tr><td>Customer B</td><td>$100</td></tr>
        </tbody>
      </table>
    </section>
  </div>
</div>

<script>
  // Elements
  const loginFormDiv = document.getElementById('loginForm');
  const loginFormInner = document.getElementById('loginFormInner');
  const registerFormDiv = document.getElementById('registerForm');
  const registerFormInner = document.getElementById('registerFormInner');
  const dashboardDiv = document.getElementById('dashboard');
  const showRegisterBtn = document.getElementById('showRegisterBtn');
  const showLoginBtn = document.getElementById('showLoginBtn');
  const logoutBtn = document.getElementById('logoutBtn');

  // Sidebar buttons and sections
  const buttons = document.querySelectorAll('.sidebar button[data-target]');
  const sections = document.querySelectorAll('section');

  // User management in dashboard
  const userForm = document.getElementById('userForm');
  const userTableBody = document.querySelector('#userListTable tbody');

  // Company
  const companyForm = document.getElementById('companyForm');
  const logoInput = document.getElementById('companyLogo');
  const logoPreview = document.getElementById('logoPreview');

  // Sales report
  const filterInput = document.getElementById('filterInput');
  const salesItemTableBody = document.querySelector('#salesByItemTable tbody');
  const fromDateInput = document.getElementById('fromDate');
  const toDateInput = document.getElementById('toDate');
  const salesInvoiceTableBody = document.querySelector('#salesByInvoiceTable tbody');

  // -----------------------------------------
  // Helpers
  // -----------------------------------------
  function loadUsers() {
    const users = JSON.parse(localStorage.getItem('users') || '[]');
    userTableBody.innerHTML = '';
    users.forEach(u => {
      const tr = document.createElement
