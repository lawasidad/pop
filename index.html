<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Modern Blue Login</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;600&display=swap');

  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    height: 100vh;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #1e3c72, #2a5298);
    display: flex;
    justify-content: center;
    align-items: center;
  }
  .login-box, .register-box {
    background: #ffffffdd;
    padding: 40px 50px;
    border-radius: 15px;
    box-shadow: 0 15px 30px rgba(0,0,0,0.2);
    width: 350px;
    text-align: center;
    position: absolute;
  }
  .login-box {
    display: block;
  }
  .register-box {
    display: none;
  }
  h2 {
    margin-bottom: 25px;
    font-weight: 600;
    color: #1e3c72;
    letter-spacing: 1.2px;
  }
  input[type="text"],
  input[type="password"] {
    width: 100%;
    padding: 14px 18px;
    margin: 12px 0 20px 0;
    border: 2px solid #2a5298;
    border-radius: 8px;
    font-size: 16px;
    transition: border-color 0.3s ease;
  }
  input[type="text"]:focus,
  input[type="password"]:focus {
    border-color: #145da0;
    outline: none;
  }
  button {
    background-color: #1e3c72;
    color: white;
    border: none;
    padding: 14px 0;
    width: 100%;
    border-radius: 10px;
    font-size: 18px;
    cursor: pointer;
    font-weight: 600;
    letter-spacing: 0.8px;
    transition: background-color 0.3s ease;
  }
  button:hover {
    background-color: #144d7f;
  }
  .forgot-password, .toggle-link {
    margin-top: 15px;
    font-size: 14px;
    color: #2a5298;
    cursor: pointer;
    display: inline-block;
    text-decoration: underline;
  }
  .message {
    color: red;
    margin-bottom: 10px;
    min-height: 18px;
  }
</style>
</head>
<body>

<!-- Login Form -->
<div class="login-box" id="loginBox">
  <h2>Login to Dashboard</h2>
  <form id="loginForm">
    <input type="text" id="loginUsername" placeholder="Username" required autocomplete="off" />
    <input type="password" id="loginPassword" placeholder="Password" required autocomplete="off" />
    <div class="message" id="loginMessage"></div>
    <button type="submit">Log In</button>
  </form>
  <span class="forgot-password" onclick="alert('Please contact admin to reset your password.')">Forgot Password?</span><br />
  <span class="toggle-link" id="showRegister">Don't have an account? Register</span>
</div>

<!-- Register Form -->
<div class="register-box" id="registerBox">
  <h2>Register New User</h2>
  <form id="registerForm">
    <input type="text" id="regUsername" placeholder="Username" required autocomplete="off" />
    <input type="password" id="regPassword" placeholder="Password" required autocomplete="off" />
    <div class="message" id="registerMessage"></div>
    <button type="submit">Register</button>
  </form>
  <span class="toggle-link" id="showLogin">Already have an account? Login</span>
</div>

<script>
  // Toggle forms
  const loginBox = document.getElementById('loginBox');
  const registerBox = document.getElementById('registerBox');
  const showRegister = document.getElementById('showRegister');
  const showLogin = document.getElementById('showLogin');

  showRegister.onclick = () => {
    loginBox.style.display = 'none';
    registerBox.style.display = 'block';
    clearMessages();
  };
  showLogin.onclick = () => {
    registerBox.style.display = 'none';
    loginBox.style.display = 'block';
    clearMessages();
  };

  function clearMessages(){
    document.getElementById('loginMessage').textContent = '';
    document.getElementById('registerMessage').textContent = '';
  }

  // Register user
  document.getElementById('registerForm').addEventListener('submit', function(e){
    e.preventDefault();
    const username = document.getElementById('regUsername').value.trim();
    const password = document.getElementById('regPassword').value.trim();
    const registerMessage = document.getElementById('registerMessage');

    if(username === '' || password === '') {
      registerMessage.textContent = 'Please fill in both username and password.';
      return;
    }

    // Get users from localStorage or empty array
    let users = JSON.parse(localStorage.getItem('users') || '[]');

    // Check if username exists
    if(users.some(u => u.username.toLowerCase() === username.toLowerCase())) {
      registerMessage.textContent = 'Username already exists.';
      return;
    }

    users.push({username, password});
    localStorage.setItem('users', JSON.stringify(users));
    registerMessage.style.color = 'green';
    registerMessage.textContent = 'Registration successful! You can now login.';
    this.reset();
  });

  // Login user
  document.getElementById('loginForm').addEventListener('submit', function(e){
    e.preventDefault();
    const username = document.getElementById('loginUsername').value.trim();
    const password = document.getElementById('loginPassword').value.trim();
    const loginMessage = document.getElementById('loginMessage');

    if(username === '' || password === '') {
      loginMessage.textContent = 'Please enter username and password.';
      return;
    }

    let users = JSON.parse(localStorage.getItem('users') || '[]');

    const userFound = users.find(u => u.username.toLowerCase() === username.toLowerCase() && u.password === password);

    if(userFound){
      loginMessage.style.color = 'green';
      loginMessage.textContent = 'Login successful! Redirecting...';

      setTimeout(() => {
        // Redirect to dashboard.html or show dashboard content here
        window.location.href = 'dashboard.html';
      }, 1000);
    } else {
      loginMessage.style.color = 'red';
      loginMessage.textContent = 'Invalid username or password.';
    }
  });
</script>

</body>
</html>
